SET(WINDOWS 0)
SET(LINUX 0)

MESSAGE(STATUS "Current platform ${CMAKE_SYSTEM_NAME}")

IF (CMAKE_SYSTEM_NAME MATCHES "Linux")
	SET(LINUX 1)
ELSEIF (CMAKE_SYSTEM_NAME MATCHES "Windows")
	SET(WINDOWS 1)
ELSE (CMAKE_SYSTEM_NAME MATCHES "Linux")
	MESSAGE(FATAL_ERROR "Not support platform ${CMAKE_SYSTEM_NAME}")
ENDIF (CMAKE_SYSTEM_NAME MATCHES "Linux")

IF (LINUX)
	SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11 -g -pthread")
	SET(BOOST_ROOT "/home/boost")
	FIND_PACKAGE(Boost)
	IF (NOT Boost_FOUND)
		MESSAGE(FATAL_ERROR "Cannot find boost")
	ELSE (NOT Boost_FOUND)
		MESSAGE(STATUS "Boost include dir is ${Boost_INCLUDE_DIRS}")
		MESSAGE(STATUS "Boost library dir is ${Boost_LIBRARY_DIRS}")
		MESSAGE(STATUS "Boost version is ${Boost_VERSION}")
	ENDIF (NOT Boost_FOUND)
ENDIF (LINUX)

IF (WINDOWS)
	FILE(GLOB_RECURSE common_files src/common/*)
	SOURCE_GROUP(common FILES ${common_files})
	FILE(GLOB_RECURSE main_file src/main.cc)
	SOURCE_GROUP(main FILES ${main_file})
ENDIF (WINDOWS)